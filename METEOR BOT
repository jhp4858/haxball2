var stadiumfile = '{"name":"Meteors Survival v3 from HaxMaps","width":420,"height":200,"spawnDistance":10,"bg":{"type":"hockey","width":0,"height":0,"kickOffRadius":0,"cornerRadius":0},"vertexes":[{"bCoef":-100,"cMask":["red","blue"],"x":422,"y":-202,"color":"000000","vis":false},{"bCoef":-100,"cMask":["red","blue"],"x":422,"y":202,"color":"000000","vis":false},{"bCoef":-100,"cMask":["red","blue"],"x":-422,"y":-202,"color":"000000","vis":false},{"bCoef":-100,"cMask":["red","blue"],"x":-422,"y":202,"color":"000000","vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"x":-600,"y":-450,"vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"x":-600,"y":350,"vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"x":600,"y":350,"vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"x":600,"y":-450,"vis":false}],"segments":[{"bCoef":-100,"cMask":["red","blue"],"v0":0,"v1":1,"x":422,"color":"000000","vis":false},{"bCoef":-100,"cMask":["red","blue"],"v0":0,"v1":2,"y":-202,"color":"000000","vis":false},{"bCoef":-100,"cMask":["red","blue"],"v0":2,"v1":3,"x":-422,"color":"000000","vis":false},{"bCoef":-100,"cMask":["red","blue"],"v0":3,"v1":1,"y":202,"color":"000000","vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"v0":4,"v1":5,"x":-600,"vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"v0":5,"v1":6,"y":350,"vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"v0":6,"v1":7,"x":600,"vis":false},{"bCoef":1,"cMask":["red","blue"],"cGroup":["ball"],"v0":7,"v1":4,"y":-450,"vis":false}],"goals":[],"discs":[{"radius":5,"invMass":1.0e-5,"pos":[-263.333335876,-359.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.8,1.6]},{"radius":6,"invMass":1.0e-5,"pos":[-164.333335876,-331.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.2,1.7]},{"radius":7,"invMass":1.0e-5,"pos":[111.666664124,-328.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.6]},{"radius":9,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.2,1.6],"pos":[-5.33333587646,-274.211807251]},{"radius":9,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.6,1.7],"pos":[387.666664124,-259.211807251]},{"radius":6,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.5],"pos":[141.666664124,-267.211807251]},{"radius":2,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.7,1.8],"pos":[366.666664124,-355.211807251]},{"radius":4,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.4],"pos":[-256.333335876,-264.211807251]},{"radius":7,"invMass":0.0003,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.2],"pos":[-386.333335876,-233.211807251]},{"radius":9,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.4,1],"pos":[-386.333335876,-353.211807251]},{"radius":7,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1],"pos":[-369.333335876,239.121536255]},{"radius":5,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.23,1.1],"pos":[-324.333335876,275.121536255]},{"radius":7,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.4],"pos":[-167.333335876,226.121536255]},{"radius":9,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.35,1.36],"pos":[88.6666641235,269.343765259]},{"radius":9,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.13,1.4],"pos":[269.666664124,222.343765259]},{"radius":6,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.4],"pos":[340.666664124,269.343765259]},{"radius":6,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.2],"pos":[-58.3333358765,272.343765259]},{"radius":2,"invMass":1.0e-5,"pos":[-198.333335876,-272.989578247],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.4,1]},{"radius":9,"invMass":1.0e-5,"pos":[-360.333335876,-298.989578247],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.5]},{"radius":5,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.2,1.8],"pos":[259.666664124,-305.989578247]},{"radius":6,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.6,1.5],"pos":[444.666664124,183.454881668]},{"radius":5,"invMass":1.0e-5,"pos":[191.666664124,219.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.7]},{"radius":7,"invMass":1.0e-5,"pos":[-191.333335876,274.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.6]},{"radius":7,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.4,1.8],"pos":[266.666664124,276.343765259]},{"radius":7,"invMass":1.0e-5,"pos":[171.666664124,-309.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.8,1.7]},{"radius":7,"invMass":1.0e-5,"pos":[-39.3333358765,-344.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.2,1.3]},{"radius":7,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.2,1.6],"pos":[409.666664124,-316.211807251]},{"radius":9,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.6],"pos":[239.666664124,-369.211807251]},{"radius":9,"invMass":1.0e-5,"pos":[-332.333335876,-358.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.19,1.3]},{"radius":9,"invMass":1.0e-5,"pos":[-95.3333358765,-298.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.12]},{"radius":4,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.4,1.5],"pos":[192.666664124,279.343765259]},{"radius":11,"invMass":1.0e-5,"pos":[-13.3333358765,242.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.4,1.11]},{"radius":12,"invMass":1.0e-5,"pos":[-281.333335876,239.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.8,1.1]},{"radius":12,"invMass":1.0e-5,"pos":[150.666664124,261.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.3]},{"radius":12,"invMass":1.0e-5,"pos":[82.6666641235,-363.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.5,1.1]},{"radius":12,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.4,1.6],"pos":[383.666664124,250.343765259]},{"radius":7,"invMass":1.0e-5,"pos":[443.666664124,-62.7673568726],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1]},{"radius":9,"invMass":1.0e-5,"pos":[436.666664124,90.2326431274],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.25,1.3]},{"radius":6,"invMass":1.0e-5,"pos":[-434.333335876,58.0104217529],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.1,1.3]},{"radius":12,"invMass":1.0e-5,"pos":[234.666664124,255.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.8,1.1]},{"radius":12,"invMass":1.0e-5,"pos":[-168.333335876,-372.211807251],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.8,1.1]},{"radius":12,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.5,1.1],"pos":[326.666664124,-322.211807251]},{"radius":2,"invMass":1.0e-5,"pos":[-441.333335876,188.010421753],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.7,1.7]},{"radius":2,"invMass":1.0e-5,"pos":[45.6666641235,227.343765259],"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.7,1.9]},{"radius":2,"invMass":1.0e-5,"color":"000000","bCoef":10,"cMask":["red","blue"],"cGroup":["ball"],"damping":1.0003,"speed":[1.3,1.4],"pos":[448.666664124,-102.211807251]}],"planes":[{"normal":[0,1],"dist":-400,"bCoef":1.0e-5,"cMask":["ball"],"cGroup":["all"]},{"normal":[0,-1],"dist":-302,"bCoef":1000,"cMask":["ball"],"cGroup":["all"]},{"normal":[1,0],"dist":-460,"bCoef":1.0e-5,"cMask":["ball"],"cGroup":["all"]},{"normal":[-1,0],"dist":-460,"bCoef":1000,"cMask":["ball"],"cGroup":["all"]}],"traits":{"ballArea":{"vis":false,"bCoef":1,"cMask":["ball"]},"goalPost":{"radius":8,"invMass":0,"bCoef":0.5},"goalNet":{"vis":true,"bCoef":0.1,"cMask":["ball"]},"kickOffBarrier":{"vis":false,"bCoef":0.1,"cGroup":["redKO","blueKO"],"cMask":["red","blue"]}},"ballPhysics":{"radius":1,"cMask":["wall"],"invMass":1.0e-21},"playerPhysics":{"kickStrength":0.1,"acceleration":0.12}}'

var room = HBInit({
	roomName: "[헥볼랜드]메테오 상금도전방-개발중-농협",
	maxPlayers: 8,
	password : "12",
  public : true,
  playerName : "농협3021003643681"
})

room.setCustomStadium(stadiumfile);
room.setScoreLimit(0);
room.setTimeLimit(1);
room.setTeamsLock(true);


room.onGameStart = function(){

room.onPlayerChat = function a(player,message){if(message == "연습게임"){room.sendChat("게임이 종료되면 실행하시오. 자동종료됩니다.",null)}
else if(message == "게임방법"){room.sendChat("게임하고 싶으면 연습게임 이라고 입력하시오. ", player.id);}
else if(message == "도전"){}
}
var players = room.getPlayerList();
if(true){
timer = setTimeout(yourFunction,5000)
function yourFunction(){room.kickPlayer(players[1].id,"잠수",false)}
room.onPlayerActivity = function(player) {clearTimeout(timer)}
}
if(players[2] != null){
timer = setTimeout(yourFunction,5000)
function yourFunction(){room.kickPlayer(players[2].id,"잠수",false)}
room.onPlayerActivity = function(player) {clearTimeout(timer)}
}

}


room.onGameStop = function(){room.onPlayerChat = function a(player,message){if(message == "연습게임"){
room.startGame();
room.sendChat("경고! 가운데 검은 공을 차지않으면 시간이 흐르지 않습니다.\n1분이 지나면 자동종료됩니다.", null)
setTimeout(myFunction,52000);
	function myFunction() {
	 room.stopGame();
	}

var players = room.getPlayerList();
if(true){room.setPlayerTeam(players[1].id,1)};
if(players[2] != null){room.setPlayerTeam(players[2].id,2)}
if(players[3] != null){room.setPlayerTeam(players[3].id,1)}
if(players[4] != null){room.setPlayerTeam(players[4].id,2)}
if(players[5] != null){room.setPlayerTeam(players[5].id,1)}
if(players[6] != null){room.setPlayerTeam(players[6].id,2)}
if(players[7] != null){room.setPlayerTeam(players[7].id,1)}
if(players[8] != null){room.setPlayerTeam(players[8].id,2)}

}else if(message == "게임방법"){room.sendChat("게임하고 싶으면 연습게임 이라고 입력하시오. ", player.id);}
else if(message = "도전"){}}
}

room.onPlayerJoin = function(player) {
	room.sendChat("반갑습니다 " +player.name+"님 게임방법을 알고싶으면 게임방법 이라고 입력해주세요.", player.id);
}
room.onPlayerChat = function a(player,message){
 if (message == "게임방법"){
  	room.sendChat("게임하고 싶으면 연습게임 이라고 입력하시오. ", player.id);
 return false ;
 } else if(message == "연습게임"){
  	room.startGame();
		room.sendChat("경고! 가운데 검은 공을 차지않으면 시간이 흐르지 않습니다.\n1분이 지나면 자동종료됩니다.", null)
		setTimeout(myFunction,52000);
			function myFunction() {
			 room.stopGame();
			}

		var players = room.getPlayerList();
		if(true){room.setPlayerTeam(players[1].id,1)};
		if(players[2] != null){room.setPlayerTeam(players[2].id,2)}
		if(players[3] != null){room.setPlayerTeam(players[3].id,1)}
		if(players[4] != null){room.setPlayerTeam(players[4].id,2)}
		if(players[5] != null){room.setPlayerTeam(players[5].id,1)}
		if(players[6] != null){room.setPlayerTeam(players[6].id,2)}
		if(players[7] != null){room.setPlayerTeam(players[7].id,1)}
		if(players[8] != null){room.setPlayerTeam(players[8].id,2)}

	}else if(message == "도전"){}
}
